## âœ¨ íž™
[Level3 **ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬** ë¬¸ì œ](https://school.programmers.co.kr/learn/courses/30/lessons/42627) 

### ðŸ“˜ ë¬¸ì œ ì„¤ëª…
í•˜ë“œë””ìŠ¤í¬ëŠ” í•œ ë²ˆì— í•˜ë‚˜ì˜ ìž‘ì—…ë§Œ ìˆ˜í–‰í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤. ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìžˆìŠµë‹ˆë‹¤. ê°€ìž¥ ì¼ë°˜ì ì¸ ë°©ë²•ì€ ìš”ì²­ì´ ë“¤ì–´ì˜¨ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ëŠ” ê²ƒìž…ë‹ˆë‹¤.

ì˜ˆë¥¼ë“¤ì–´
```
- 0ms ì‹œì ì— 3msê°€ ì†Œìš”ë˜ëŠ” Aìž‘ì—… ìš”ì²­
- 1ms ì‹œì ì— 9msê°€ ì†Œìš”ë˜ëŠ” Bìž‘ì—… ìš”ì²­
- 2ms ì‹œì ì— 6msê°€ ì†Œìš”ë˜ëŠ” Cìž‘ì—… ìš”ì²­
```

ì™€ ê°™ì€ ìš”ì²­ì´ ë“¤ì–´ì™”ìŠµë‹ˆë‹¤. ì´ë¥¼ ê·¸ë¦¼ìœ¼ë¡œ í‘œí˜„í•˜ë©´ ì•„ëž˜ì™€ ê°™ìŠµë‹ˆë‹¤.
![ë””ìŠ¤í¬ì‚¬ì§„1](./img/img1.png)

í•œ ë²ˆì— í•˜ë‚˜ì˜ ìš”ì²­ë§Œì„ ìˆ˜í–‰í•  ìˆ˜ ìžˆê¸° ë•Œë¬¸ì— ê°ê°ì˜ ìž‘ì—…ì„ ìš”ì²­ë°›ì€ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ ë©ë‹ˆë‹¤.

![ë””ìŠ¤í¬ì‚¬ì§„1](./img/img2.png)

```
- A: 3ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ (ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 3ms)
- B: 1msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 3ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 12ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 11ms)
- C: 2msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 12ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 18ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 16ms)
```
ì´ ë•Œ ê° ìž‘ì—…ì˜ ìš”ì²­ë¶€í„° ì¢…ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ì˜ í‰ê· ì€ 10ms(= (3 + 11 + 16) / 3)ê°€ ë©ë‹ˆë‹¤.

í•˜ì§€ë§Œ A â†’ C â†’ B ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬í•˜ë©´
![ë””ìŠ¤í¬ì‚¬ì§„1](./img/img3.png)
```
- A: 3ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 3ms)
- C: 2msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 3ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 9ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 7ms)
- B: 1msë¶€í„° ëŒ€ê¸°í•˜ë‹¤ê°€, 9ms ì‹œì ì— ìž‘ì—…ì„ ì‹œìž‘í•´ì„œ 18ms ì‹œì ì— ìž‘ì—… ì™„ë£Œ(ìš”ì²­ì—ì„œ ì¢…ë£Œê¹Œì§€ : 17ms)
```
ì´ë ‡ê²Œ A â†’ C â†’ Bì˜ ìˆœì„œë¡œ ì²˜ë¦¬í•˜ë©´ ê° ìž‘ì—…ì˜ ìš”ì²­ë¶€í„° ì¢…ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ì˜ í‰ê· ì€ 9ms(= (3 + 7 + 17) / 3)ê°€ ë©ë‹ˆë‹¤.

ê° ìž‘ì—…ì— ëŒ€í•´ [ìž‘ì—…ì´ ìš”ì²­ë˜ëŠ” ì‹œì , ìž‘ì—…ì˜ ì†Œìš”ì‹œê°„]ì„ ë‹´ì€ 2ì°¨ì› ë°°ì—´ jobsê°€ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, ìž‘ì—…ì˜ ìš”ì²­ë¶€í„° ì¢…ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ì˜ í‰ê· ì„ ê°€ìž¥ ì¤„ì´ëŠ” ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ í‰ê· ì´ ì–¼ë§ˆê°€ ë˜ëŠ”ì§€ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”. (ë‹¨, ì†Œìˆ˜ì  ì´í•˜ì˜ ìˆ˜ëŠ” ë²„ë¦½ë‹ˆë‹¤)

### ðŸ“• ì œí•œì‚¬í•­
- jobsì˜ ê¸¸ì´ëŠ” 1 ì´ìƒ 500 ì´í•˜ìž…ë‹ˆë‹¤.
- jobsì˜ ê° í–‰ì€ í•˜ë‚˜ì˜ ìž‘ì—…ì— ëŒ€í•œ [ìž‘ì—…ì´ ìš”ì²­ë˜ëŠ” ì‹œì , ìž‘ì—…ì˜ ì†Œìš”ì‹œê°„] ìž…ë‹ˆë‹¤.
- ê° ìž‘ì—…ì— ëŒ€í•´ ìž‘ì—…ì´ ìš”ì²­ë˜ëŠ” ì‹œê°„ì€ 0 ì´ìƒ 1,000 ì´í•˜ìž…ë‹ˆë‹¤.
- ê° ìž‘ì—…ì— ëŒ€í•´ ìž‘ì—…ì˜ ì†Œìš”ì‹œê°„ì€ 1 ì´ìƒ 1,000 ì´í•˜ìž…ë‹ˆë‹¤.
- í•˜ë“œë””ìŠ¤í¬ê°€ ìž‘ì—…ì„ ìˆ˜í–‰í•˜ê³  ìžˆì§€ ì•Šì„ ë•Œì—ëŠ” ë¨¼ì € ìš”ì²­ì´ ë“¤ì–´ì˜¨ ìž‘ì—…ë¶€í„° ì²˜ë¦¬í•©ë‹ˆë‹¤.

### ðŸ“™ ìž…ì¶œë ¥ ì˜ˆ
|jobs|return|
|[[0, 3], [1, 9], [2, 6]]|9|

### ðŸ“’ ìž…ì¶œë ¥ ì˜ˆ ì„¤ëª…
ë¬¸ì œì— ì£¼ì–´ì§„ ì˜ˆì™€ ê°™ìŠµë‹ˆë‹¤.

- 0ms ì‹œì ì— 3ms ê±¸ë¦¬ëŠ” ìž‘ì—… ìš”ì²­ì´ ë“¤ì–´ì˜µë‹ˆë‹¤.
- 1ms ì‹œì ì— 9ms ê±¸ë¦¬ëŠ” ìž‘ì—… ìš”ì²­ì´ ë“¤ì–´ì˜µë‹ˆë‹¤.
- 2ms ì‹œì ì— 6ms ê±¸ë¦¬ëŠ” ìž‘ì—… ìš”ì²­ì´ ë“¤ì–´ì˜µë‹ˆë‹¤.

### ðŸ“— ê°œì¸ì ì¸ ë¬¸ì œ í•´ì„¤
> ìž‘ì—…ì˜ ìš”ì²­ë¶€í„° ì¢…ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„ì˜ í‰ê· ì„ ê°€ìž¥ ì¤„ì´ëŠ” ë°©ë²•ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©´ í‰ê· ì´ ì–¼ë§ˆê°€ ë˜ëŠ”ì§€ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”.

ìŠ¤ì¼€ì¤„ë§ì—ì„œ SJF(shortest job first) ê¸°ë²•ì— í•´ë‹¹í•˜ëŠ” ë‚´ìš©ì´ë¼ê³  ìƒê°í–ˆë‹¤. SJFëŠ” í•­ìƒ ìž‘ì—… ì‹œê°„ì´ ì œì¼ ì¡°ê¸ˆ ê±¸ë¦¬ëŠ” ê²ƒì„ ìš°ì„ í•˜ì—¬ ëŒ€ê¸°ì‹œê°„ì„ ì œì¼ ì§§ê²Œ ë§Œë“œëŠ” ë°©ë²•ì„ ë§í•œë‹¤. SJFëŠ” ê¸´ ìž‘ì—… ì‹œê°„ì„ ê°€ì§„ ìž‘ì—…ì˜ ë¬´í•œ ëŒ€ê¸° ë“±ì˜ ë¬¸ì œì ì´ ìžˆì§€ë§Œ, ì´ë²ˆ ë¬¸ì œì—ì„œëŠ” ê·¸ëŸ° ì ì„ ê³ ë ¤í•˜ì§€ ì•Šê³  ìµœì†Œí•œì˜ í‰ê·  ì²˜ë¦¬ì‹œê°„ì„ ì›í•˜ë‹ˆ sjfì™€ ê°™ì€ ìˆœì„œë¡œ ì¼ì„ ì²˜ë¦¬í•´ì•¼ í•œë‹¤ê³  ìƒê°í–ˆë‹¤.

### ðŸ“” ì•Œê³ ë¦¬ì¦˜ ìˆœì„œ
1\) í˜„ìž¬ ì‹œê°„ì— ìž‘ì—…í•  ë‚´ìš©ì´ ìžˆëŠ”ì§€ í™•ì¸   
2\) ìž‘ì—…í•  ë‚´ìš©ì´ ìžˆë‹¤ë©´, ìž‘ì—…í•  ë‚´ì—­ì¤‘ ì œì¼ ì²˜ë¦¬ì‹œê°„ì´ ì§§ì€ ê²ƒì„ ìš°ì„ ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ê¸°   
3\) ëª¨ë“  ìž‘ì—…ì´ ëë‚  ë•Œê¹Œì§€ ë°˜ë³µ...   


### âœ… í•´ë‹µì½”ë“œ
```javascript
function solution(jobs) {
    const heap = [];        // ìš”ì²­ëœ ìž‘ì—…í’€
    
    let curTime = 0;        // í˜„ìž¬ ì‹œê°„
    let prevTime = -1;      // ì´ì „ ìž‘ì—… ì‹œê°„
    let finishedCnt = 0;    // ëë‚œ ìž‘ì—…ì˜ ìˆ˜
    let totalWorkTime = 0;  // ìž‘ì—…ì— ê±¸ë¦° ì‹œê°„
    
    while(jobs.length > finishedCnt) {
        // í˜„ìž¬ ì‹œê°„ì— ìš”ì²­ëœ ìž‘ì—…ì´ ìžˆëŠ”ê°€?
        jobs.forEach(([requestTime, workTime]) => {
            if(requestTime > prevTime && requestTime <= curTime)  {
                heap.push({requestTime, workTime});
            }
        });
        
        // ìš”ì²­ëœ ìž‘ì—…ì´ ìžˆë‹¤ë©´, ìµœì†Œ ìž‘ì—…ëŸ‰ì„ ê°€ì§„ ìž‘ì—… ë¨¼ì € ì‹¤í–‰
        if(heap.length > 0 ) {
            heap.sort((a, b) => a.workTime - b.workTime);
            
            const target = heap.shift();
            const waitTime = curTime - target.requestTime;
            const workTime = target.workTime;
            
            prevTime = curTime;
            curTime += workTime;
            totalWorkTime += waitTime + workTime;
            finishedCnt++;   
        } else {
            curTime += 1;
        }
    }
    
    return Math.floor(totalWorkTime / jobs.length);
}
```