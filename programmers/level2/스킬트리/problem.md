### 🔍 문제 링크
[Level2 **스킬트리** 문제](https://school.programmers.co.kr/learn/courses/30/lessons/49993)

### 📘 문제 설명
선행 스킬이란 어떤 스킬을 배우기 전에 먼저 배워야 하는 스킬을 뜻합니다.

예를 들어 선행 스킬 순서가 `스파크 → 라이트닝 볼트 → 썬더`일때, 썬더를 배우려면 먼저 라이트닝 볼트를 배워야 하고, 라이트닝 볼트를 배우려면 먼저 스파크를 배워야 합니다.

위 순서에 없는 다른 스킬(힐링 등)은 순서에 상관없이 배울 수 있습니다. 따라서 `스파크 → 힐링 → 라이트닝 볼트 → 썬더`와 같은 스킬트리는 가능하지만, `썬더 → 스파크나 라이트닝 볼트 → 스파크 → 힐링 → 썬더`와 같은 스킬트리는 불가능합니다.

선행 스킬 순서 skill과 유저들이 만든 스킬트리1를 담은 배열 skill_trees가 매개변수로 주어질 때, 가능한 스킬트리 개수를 return 하는 solution 함수를 작성해주세요.

### 📕 제한사항
- 스킬은 알파벳 대문자로 표기하며, 모든 문자열은 알파벳 대문자로만 이루어져 있습니다.
- 스킬 순서와 스킬트리는 문자열로 표기합니다.
   - 예를 들어, `C → B → D` 라면 "CBD"로 표기합니다
- 선행 스킬 순서 skill의 길이는 1 이상 26 이하이며, 스킬은 중복해 주어지지 않습니다.
- skill_trees는 길이 1 이상 20 이하인 배열입니다.
- skill_trees의 원소는 스킬을 나타내는 문자열입니다.
  - skill_trees의 원소는 길이가 2 이상 26 이하인 문자열이며, 스킬이 중복해 주어지지 않습니다.

### 📙 입출력 예
|skill|skill_trees|return|
|:---|:---|:---|
|"CBD"|["BACDE", "CBADF", "AECB", "BDA"]|2|

### 📒 입출력 예 설명
- "BACDE": B 스킬을 배우기 전에 C 스킬을 먼저 배워야 합니다. 불가능한 스킬트립니다.
- "CBADF": 가능한 스킬트리입니다.
- "AECB": 가능한 스킬트리입니다.
- "BDA": B 스킬을 배우기 전에 C 스킬을 먼저 배워야 합니다. 불가능한 스킬트리입니다.


### 📔 나의 알고리즘 순서
1. 사용자 스킬 트리를 하나씩 순차적으로 접근한다.
2. 사용자 스킬 트리의 스킬 목록을 순차적으로 접근하여, 선행 스킬 트리를 충족하는지 확인한다.

### ✅ 나의 해답코드
```javascript
function solution(skill, skill_trees) {
  let count = 0;

  skill_trees.forEach((tree) => {
    let index = 0;
    for (const next of tree) {
      if (!skill.includes(next)) continue;
      if (skill[index++] !== next) return;
      if (skill.length <= index) break;
    }
    count++;
  });

  return count;
}
```

### ✨ 깔끔한 해답코드
```javascript
function solution(skill, skill_trees){
  const restRemoveRegex = new RegExp('[^' + skill + ']', 'gi');
  return skill_trees.filter(v => {
    const tempSkill = v.replace(restRemoveRegex, '');
    return skill.startsWith(tempSkill);
  }).length;
}
```

정규표현식을 이용하여 선행 스킬목록과 관련없는 내용들을 미리 없애고, 나머지 스킬들이 선행스킬 트리의 목록과 일치하여 준수 여부를 비교하는게 인상적이었다. 

### 🤔고민한점 & 💡배운점
1\) 🤔 선행 스킬 트리를 준수하는지 확인하기 위해서 사용자가 찍은 스킬 트리를 순차적으로 접근하고 확인할 필요가 있었다. 선행 스킬 트리인 `skill` 배열을 손상하지 않고 확인하기 위해 별도의 index를 통해 접근 순서를 통제하는 방법을 생각했다.

선행 스킬이 포함되지 않은 스킬이면, 다음 검사를 진행하고, 선행 스킬에 포함된다면 현재 index가 가리키는 스킬과 일치하는지 확인했다. 일치한다면 다음에 찍을 수 있는 스킬을 가리키도록 index를 이동하고, 그렇지 않으면 선행 스킬 트리를 충족하지 않은 것이니 조기 종료시켰다. 

이후에 생각해보니 선행 스킬 트리 항목을 모두 검사했다면, 나머지는 마음대로 습득할 수 있기 때문에 조기 종료시킬 수 있다고 판단하여 조기 종료문을 추가했다.

2\) 💡다른 사람의 문제 풀이를 살펴보다 정규표현식을 이용하여 선행 스킬 목록에 포함되지 않은 모든 스킬을 제거하고, 원하는 부분의 순서를 문자열로 통으로 비교하는 것을 보고 놀랐다. 관련이 없는 데이터는 미리 지우고 생각할 수 있음을 기억해야겠다.